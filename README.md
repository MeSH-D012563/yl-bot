# Telegram Outfit Generator Bot

Бот для генерации образов одежды с возможностью поиска товаров и сохранения избранных образов.

## Функциональность

- Генерация образов одежды на основе:
  - Пола (мужской/женский)
  - Стиля (классический, кэжуал, спортивный)
  - Случая (деловая встреча, свидание, тренировка и т.д.)
  - Включения/исключения аксессуаров
- Поиск товаров на Wildberries для каждого элемента образа
- Сохранение избранных образов с названиями
- Возможность замены отдельных элементов в сохраненных образах
- Шеринг образов с другими пользователями

## Требования

- Python 3.8+
- pip (менеджер пакетов Python)

## Установка

1. Клонируйте репозиторий:
```bash
git clone <url-репозитория>
cd <папка-проекта>
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
# Для Windows:
venv\Scripts\activate
# Для Linux/Mac:
source venv/bin/activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` в корневой директории проекта и добавьте в него токен бота:
```
BOT_TOKEN=ваш_токен_от_botfather
```

## Запуск

1. Активируйте виртуальное окружение (если еще не активировано):
```bash
# Для Windows:
venv\Scripts\activate
# Для Linux/Mac:
source venv/bin/activate
```

2. Запустите бота:
```bash
python telegram_bot.py
```

## Использование

### Основные команды

- `/start` - Начать подбор образа
- `/favorites` - Показать сохраненные образы
- `/save` - Сохранить текущий образ
- `/help` - Показать справку по командам
- `/cancel` - Отменить текущий диалог

### Процесс создания образа

1. Выберите пол (мужской/женский)
2. Выберите стиль из предложенных вариантов
3. Выберите случай из предложенных вариантов
4. Решите, включать ли аксессуары в образ
5. Получите сгенерированный образ с товарами
6. При желании сохраните образ, указав название

### Работа с сохраненными образами

- Просмотр списка сохраненных образов: `/favorites`
- Для каждого образа доступны действия:
  - Удаление образа
  - Шеринг образа
  - Замена отдельных элементов

## Структура проекта

```
├── telegram_bot.py      # Основной файл бота
├── image_parser.py      # Логика генерации образов и поиска товаров
├── database.py         # Работа с базой данных
├── requirements.txt    # Зависимости проекта
├── .env               # Конфигурационный файл с токеном
└── downloaded_images/ # Папка для сохранения изображений
```

## Технические детали

- Использует SQLite для хранения данных
- Интегрируется с Wildberries API для поиска товаров
- Использует simple_image_download для загрузки изображений
- Поддерживает асинхронную обработку запросов

## Разработка

### Добавление новых стилей

Новые стили и образы можно добавить в словарь `STYLES` в файле `image_parser.py`. Структура словаря:

```python
STYLES = {
    'пол': {
        'стиль': {
            'случай': [
                'элемент1',
                'элемент2',
                ...
            ]
        }
    }
}
```

### Расширение функциональности

1. Добавление новых магазинов:
   - Реализуйте функцию поиска товаров для нового магазина
   - Добавьте интеграцию в `search_products` в `image_parser.py`

2. Улучшение поиска товаров:
   - Добавьте фильтрацию по цене
   - Реализуйте сортировку по рейтингу
   - Добавьте поиск по размеру и цвету

## Лицензия

MIT License 